{% extends 'base.html' %}
{% load static %}

{% block title %}Bot log{% endblock %}

{% block headers %}
    <style>
        .text_red {
            background-color: #ffffff;
            color: #ff0000;
        }
    </style>
{% endblock %}

{% block body_class %}text-center{% endblock %}

{% block content %}
    <form class="form-count" method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="">

        {{ form.as_p }}

        <button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
    </form>

    <br>
    {% if log_type %}
        Log: {{ log_type }}
    {% else %}
        Log: -
    {% endif %}

    <br>
    {% if bot_id %}
        Bot id: {{ bot_id }}
    {% else %}
        Bot id: ALL
    {% endif %}
    <br>
    <br>
    {% if log_type != 'server-load-info' %}
        {% for line in log %}
            {% if '[error]' in line %}
                <span class="text_red">{{ line }}</span>
            {% else %}
                <span>{{ line }}</span>
            {% endif %}
            <br>
        {% endfor %}
    {% else %}
        {% for line in bot_stat %}
            <span>{{ line }}</span>
            <br>
        {% endfor %}

        <table id="centerLayer" border="1" cellpadding="5">

        {% for line in load_table %}
            <tr>
                {% for node in line %}
                    <td style="padding:15px">
                        {{ node }}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}

        </table>
    {% endif %}

    <footer class="container">
        <p class="mt-5 mb-3 text-muted">Â© FC Tools 2020-2021</p>
    </footer>
{% endblock %}